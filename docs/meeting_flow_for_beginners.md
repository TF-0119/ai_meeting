# フロントエンドとバックエンドのつながり（初心者向け）

このドキュメントでは、Home 画面から会議が始まるまでの流れをできるだけ平易な言葉で説明します。複雑な設定は不要で、以下の4ステップを追うだけで全体像をつかめます。

## 1. Home 画面でフォームを入力する
- フロントエンドは `frontend/src/pages/Home.jsx` に書かれています。
- 画面には通常設定として「テーマ」「精密度」「フェーズターン上限」「フェーズ数の上限」などの入力欄が並び、ユーザーが値を入れます。
- フェーズ設定はフォーム内の「フェーズ設定」ブロックでまとめて入力し、基本モードではフェーズごとのターン上限とフェーズ数の上限を数値で指定します。より細かなフェーズ目標や種別ごとの設定は「高度な設定」を開くと追加できる仕組みです。
- 「会議を開始」ボタンを押すと、JavaScript が入力内容をまとめて `startMeeting` 関数に渡します。

## 2. `startMeeting` 関数が FastAPI へリクエストを送る
- `startMeeting` は `frontend/src/services/api.js` にある小さなヘルパー関数です。
- この関数は `fetch` を使って `POST /meetings` という FastAPI のエンドポイントにデータを送ります。
- 送るデータ（JSON 形式）にはテーマや精密度、フェーズターン上限やフェーズ数の上限といった設定が含まれ、バックエンドがその内容を読めるようになっています。

## 3. FastAPI が会議スクリプトを裏側で起動する
- バックエンドの処理は `backend/app.py` の `start_meeting` 関数で行われます。
- ここでは受け取った JSON をもとに `python backend/ai_meeting.py ...` というコマンドを組み立て、サブプロセスとして実行します。
- 実行が始まると、`logs/` フォルダに会議ログを書き出し続けます。リクエストを送ったフロントエンドには、ログ保存先のパスなどが返ります。

## 4. 受け取ったログ場所をもとに画面を切り替える
- フロントエンドは FastAPI から返ってきた `outdir`（ログ保存先）を使って会議画面に遷移します。
- 画面遷移後、タイムライン表示用の別ページ (`Meeting.jsx`) が `outdir` を見ながらログを読み込み、進行中の会議が確認できます。

## 余計なテスト UI を削除した理由
- 以前は Home 画面に LLM とのチャットテスト UI が仮で置かれていました。
- 今回の変更でこのテスト UI を取り除き、代わりに実際の会議開始ボタンだけに整理しました。
- これにより、初心者でも「入力する → ボタンを押す → 会議がスタートする」というシンプルな流れだけを覚えればよくなりました。

---
このように、フォーム入力から会議開始までの流れは「フロントエンドでデータを集める → FastAPI に送る → Python スクリプトが裏で動く → ログを表示する」という直線的なつながりです。仕組みを意識しておくと、どこかで問題が起きたときも原因を追いやすくなります。
