:root { --bg: #0b0c10; --card: #121318; --text: #eaeaea; --muted:#a9a9b3; --brand:#5b8def; --ok:#38c172; --run:#f0ad4e; --border:#1e2027; }
*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial}
.app-header{position:sticky;top:0;background:rgba(18,19,24,.85);backdrop-filter:saturate(1.2) blur(8px);border-bottom:1px solid var(--border);padding:10px 16px;z-index:10;transition:background .2s ease}
.header-inner{max-width:1100px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap}
.brand-area{display:flex;align-items:center;gap:12px;color:var(--text);font-weight:700;letter-spacing:.02em}
.brand-title{font-size:18px}
.nav-toggle{display:none;flex-direction:column;gap:4px;padding:8px;border:1px solid var(--border);border-radius:10px;background:rgba(13,14,19,.7);color:var(--text);cursor:pointer;transition:border-color .2s ease,background .2s ease}
.nav-toggle:hover{border-color:var(--text)}
.nav-toggle-bar{display:block;width:18px;height:2px;background:var(--text);border-radius:2px;transition:transform .2s ease,opacity .2s ease}
.app-header.is-open .nav-toggle-bar:nth-child(1){transform:translateY(6px) rotate(45deg)}
.app-header.is-open .nav-toggle-bar:nth-child(2){opacity:0}
.app-header.is-open .nav-toggle-bar:nth-child(3){transform:translateY(-6px) rotate(-45deg)}
.nav-inline{display:flex;align-items:center;gap:18px}
.navigation{display:flex;align-items:center;gap:16px}
.nav-primary-link{display:inline-flex;align-items:center;gap:8px;padding:8px 18px;border-radius:999px;text-decoration:none;background:var(--brand);color:#fff;font-weight:600;box-shadow:0 0 0 1px rgba(91,141,239,.35);transition:background .2s ease,box-shadow .2s ease,transform .2s ease}
.nav-primary-link:hover{background:rgba(91,141,239,.95);transform:translateY(-1px)}
.nav-primary-link.is-active{box-shadow:0 0 0 2px rgba(91,141,239,.45)}
.nav-tabs{display:flex;align-items:center;gap:8px}
.nav-tab{display:inline-flex;align-items:center;justify-content:center;padding:8px 12px;border-radius:10px;text-decoration:none;color:var(--muted);border:1px solid transparent;background:rgba(13,14,19,.6);transition:color .2s ease,background .2s ease,border-color .2s ease}
.nav-tab:hover{color:var(--text);border-color:rgba(91,141,239,.35);background:rgba(91,141,239,.12)}
.nav-tab.is-active{color:var(--text);border-color:rgba(91,141,239,.55);background:rgba(91,141,239,.18)}
.nav-status{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--muted);white-space:nowrap}
.status-dot{width:10px;height:10px;border-radius:50%;background:var(--muted);box-shadow:0 0 0 1px rgba(255,255,255,.12)}
.status-dot.status-ok{background:var(--ok);box-shadow:0 0 0 1px rgba(56,193,114,.6)}
.status-dot.status-loading{background:var(--run);box-shadow:0 0 0 1px rgba(240,173,78,.55)}
.status-dot.status-error{background:#ff6b6b;box-shadow:0 0 0 1px rgba(255,107,107,.55)}
.status-text{overflow:hidden;text-overflow:ellipsis}
.nav-drawer{display:none}
.nav-drawer-content{display:flex;flex-direction:column;gap:16px;padding:12px 0 4px}
.app-main{padding:24px;max-width:1100px;margin:0 auto}

.title{margin:0 0 12px;font-size:22px}
.title-sm{margin:0 0 12px;font-size:18px}
.card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px;margin-bottom:16px;box-shadow:0 1px 10px rgba(0,0,0,.15)}
.form .label{display:block;margin:12px 0}
.input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#0d0e13;color:var(--text)}
.select{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#0d0e13;color:var(--text);appearance:none}
.select:disabled{opacity:.6;cursor:not-allowed}
.grid-2{display:grid;grid-template-columns:1.2fr .8fr;gap:16px}
.row-between{display:flex;align-items:center;justify-content:space-between}
.badge{padding:4px 10px;border-radius:999px;font-size:12px;border:1px solid var(--border)}
.badge.ok{background:rgba(56,193,114,.15);color:#b8ffd5}
.badge.run{background:rgba(240,173,78,.15);color:#ffda9e}
.timeline{height:360px;overflow:auto;border:1px solid var(--border);border-radius:10px;padding:8px;background:#0d0e13;margin-top:8px}
.timeline-item{display:flex;gap:8px;padding:6px 4px;border-bottom:1px dashed rgba(255,255,255,.06)}
.timeline-item:last-child{border-bottom:none}
.speaker{min-width:80px;color:#9ac0ff}
.text{white-space:pre-wrap}
.summary,.final{white-space:pre-wrap;background:#0d0e13;border:1px solid var(--border);border-radius:10px;padding:10px}
.actions{margin-top:12px;display:flex;gap:8px}
.btn{background:var(--brand);color:#fff;border:none;border-radius:10px;padding:10px 14px;font-weight:600;cursor:pointer}
.btn:disabled{opacity:.5;cursor:not-allowed}
.btn.ghost{background:transparent;border:1px solid var(--border);color:var(--text)}
.muted{color:var(--muted);font-size:13px;margin-top:2px}
.hint{color:var(--muted);font-size:12px;margin-top:8px}
.hint.error{color:#ff9a9a}
.kpi-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
.kpi-grid.inline{margin-top:12px}
.kpi{background:#0d0e13;border:1px solid var(--border);border-radius:12px;padding:12px}
.kpi-label{color:var(--muted);font-size:12px;margin-bottom:4px}
.kpi-value{font-size:20px;font-weight:700}
details.advanced{margin-top:16px;border-top:1px solid var(--border);padding-top:16px}
details.advanced summary{cursor:pointer;font-weight:600;color:var(--muted);outline:none}
.advanced-summary{list-style:none;font-size:16px}
details.advanced[open] summary{color:var(--text)}
details.advanced summary:focus-visible{outline:2px solid var(--brand);outline-offset:4px}
.advanced-content{margin-top:12px}
.advanced-grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
.advanced-chat-section{display:flex;flex-direction:column;gap:8px}
.advanced-chat-title{font-size:14px;font-weight:600}
.advanced-chat-toggle{display:flex;align-items:center;gap:8px;font-size:14px}
.advanced-chat-toggle input{width:auto}
.participant-section{display:flex;flex-direction:column;gap:8px}
.participant-header{display:flex;align-items:center;justify-content:space-between;gap:12px}
.participants-wrapper{border:1px solid var(--border);border-radius:10px;overflow-x:auto;background:#0d0e13}
.participants-table{width:100%;border-collapse:collapse;min-width:100%}
.participants-table th,.participants-table td{padding:8px 10px;border-bottom:1px solid rgba(255,255,255,.08);text-align:left;vertical-align:top}
.participants-table th{font-weight:600;font-size:13px;color:var(--muted)}
.participants-table tr:last-child td{border-bottom:none}
.participant-col-index{width:40px}
.participant-col-actions{width:120px;text-align:center}
.participant-index{text-align:center;color:var(--muted);font-size:13px}
.participant-actions{text-align:center}
.participant-remove{background:transparent;border:1px solid var(--border);color:var(--muted);border-radius:8px;padding:6px 12px;cursor:pointer}
.participant-remove:hover{color:var(--text);border-color:var(--text)}
.participant-remove:disabled{opacity:.5;cursor:not-allowed}
.participant-prompt{min-height:52px;resize:vertical}
.participants-empty{border:1px dashed var(--border);border-radius:10px;padding:16px;text-align:center;background:#0d0e13;color:var(--muted)}
.participants-empty-text{margin-bottom:8px}
.participant-empty-add{background:transparent;border:1px solid var(--border);color:var(--text);border-radius:8px;padding:8px 14px;cursor:pointer}
.participant-empty-add:hover{border-color:var(--text)}
.participant-preview{display:inline-block;margin-left:4px;padding:2px 6px;border-radius:6px;border:1px solid var(--border);background:#0d0e13;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:12px}
.slider-control{display:flex;align-items:center;gap:12px;margin-top:8px}
.range-input{flex:1 1 auto;min-width:0}
input[type="range"]{appearance:none;width:100%;background:transparent;height:24px}
input[type="range"]::-webkit-slider-runnable-track{height:6px;border-radius:999px;background:linear-gradient(90deg,rgba(91,141,239,.85),rgba(91,141,239,.4));transition:background .2s ease}
input[type="range"]:hover::-webkit-slider-runnable-track{background:linear-gradient(90deg,rgba(91,141,239,1),rgba(91,141,239,.55))}
input[type="range"]::-webkit-slider-thumb{appearance:none;width:18px;height:18px;border-radius:50%;background:#fff;border:2px solid #5b8def;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;margin-top:-6px}
input[type="range"]:hover::-webkit-slider-thumb{transform:scale(1.05)}
input[type="range"]:focus-visible{outline:none}
input[type="range"]:focus-visible::-webkit-slider-thumb{box-shadow:0 0 0 4px rgba(91,141,239,.35)}
input[type="range"]::-moz-range-track{height:6px;border-radius:999px;background:linear-gradient(90deg,rgba(91,141,239,.85),rgba(91,141,239,.4));transition:background .2s ease}
input[type="range"]:hover::-moz-range-track{background:linear-gradient(90deg,rgba(91,141,239,1),rgba(91,141,239,.55))}
input[type="range"]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:#fff;border:2px solid #5b8def;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}
input[type="range"]:hover::-moz-range-thumb{transform:scale(1.05)}
input[type="range"]:focus-visible::-moz-range-thumb{box-shadow:0 0 0 4px rgba(91,141,239,.35)}
.slider-value{min-width:70px;font-size:14px;font-weight:600;color:var(--text);text-align:center}
.slider-reset{background:transparent;border:1px solid var(--border);color:var(--muted);border-radius:8px;padding:6px 10px;font-size:12px;cursor:pointer}
.slider-reset:hover:not(:disabled){color:var(--text);border-color:var(--text)}
.slider-reset:disabled{opacity:.5;cursor:not-allowed}

.home-card{display:flex;flex-direction:column;gap:16px}
.template-toolbar{display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:space-between;gap:16px}
.template-select{flex:1 1 320px;display:flex;flex-direction:column;gap:10px}
.template-label{display:flex;flex-direction:column;gap:6px;font-weight:600;color:var(--text)}
.template-label-text{font-size:13px;color:var(--muted)}
.template-description{background:#0d0e13;border:1px solid var(--border);border-radius:10px;padding:10px 12px;font-size:13px;color:var(--muted);line-height:1.5}
.template-actions{display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:flex-end}
.preset-status{background:rgba(91,141,239,.15);border:1px solid rgba(91,141,239,.45);color:#d5e3ff;padding:8px 12px;border-radius:10px;font-size:13px}
.step-progress{display:flex;gap:12px;list-style:none;padding:0;margin:8px 0 4px}
.step-progress-item{flex:1 1 0;display:flex;align-items:center;gap:10px;padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:#0d0e13;transition:border-color .2s ease,box-shadow .2s ease,transform .2s ease}
.step-progress-item.is-current{border-color:rgba(91,141,239,.55);box-shadow:0 0 0 1px rgba(91,141,239,.35)}
.step-progress-item.is-complete .step-progress-marker{background:var(--ok);box-shadow:0 0 0 1px rgba(56,193,114,.6)}
.step-progress-marker{width:14px;height:14px;border-radius:50%;background:var(--muted);box-shadow:0 0 0 1px rgba(255,255,255,.12);flex-shrink:0}
.step-progress-content{display:flex;flex-direction:column;gap:2px}
.step-progress-label{font-weight:600;font-size:14px;color:var(--text)}
.step-progress-status{font-size:12px;color:var(--muted)}
.home-layout{display:grid;grid-template-columns:minmax(0,2fr) minmax(220px,1fr);gap:20px;align-items:flex-start}
.step-form{display:flex;flex-direction:column;gap:16px}
.step-card{border:1px solid var(--border);border-radius:14px;background:#0d0e13;overflow:hidden;transition:border-color .2s ease,box-shadow .2s ease}
.step-card.is-open{border-color:rgba(91,141,239,.35);box-shadow:0 0 0 1px rgba(91,141,239,.15)}
.step-card-toggle{width:100%;display:flex;align-items:center;gap:12px;justify-content:space-between;padding:14px 16px;background:transparent;border:none;color:var(--text);cursor:pointer;font-size:16px;font-weight:600;text-align:left}
.step-card-toggle:hover{background:rgba(91,141,239,.12)}
.step-card-index{font-size:12px;color:var(--muted);font-weight:700;letter-spacing:.08em;text-transform:uppercase}
.step-card-title{flex:1 1 auto}
.step-card-icon{width:12px;height:12px;border-right:2px solid var(--muted);border-bottom:2px solid var(--muted);transform:rotate(-45deg);transition:transform .2s ease,border-color .2s ease}
.step-card.is-open .step-card-icon{transform:rotate(135deg);border-color:var(--text)}
.step-card-body{padding:16px;border-top:1px solid var(--border);display:flex;flex-direction:column;gap:16px}
.step-card-body[hidden]{display:none}
.step-summaries{display:flex;flex-direction:column;gap:12px}
.step-summary-card{background:#0d0e13;border:1px solid var(--border);border-radius:14px;padding:14px;display:flex;flex-direction:column;gap:12px}
.step-summary-title{margin:0;font-size:15px}
.step-summary-list{margin:0;display:flex;flex-direction:column;gap:10px}
.step-summary-item dt{margin:0;font-size:12px;color:var(--muted)}
.step-summary-item dd{margin:2px 0 0;font-size:14px;font-weight:600;color:var(--text)}
.step-grid{gap:16px}
@media (max-width:960px){.home-layout{grid-template-columns:1fr}.step-summaries{flex-direction:row;flex-wrap:wrap;gap:12px}.step-summary-card{flex:1 1 240px}}
@media (max-width:860px){.header-inner{flex-direction:column;align-items:flex-start;row-gap:12px}.nav-inline{display:none}.nav-toggle{display:flex}.nav-status{width:100%;justify-content:flex-start;font-size:12px;white-space:normal}.nav-drawer{display:block;width:100%;overflow:hidden;max-height:0;border-top:1px solid var(--border);transition:max-height .3s ease}.app-header.is-open .nav-drawer{max-height:320px}.nav-drawer .navigation{flex-direction:column;align-items:stretch;gap:12px}.nav-drawer .nav-tabs{flex-direction:column;align-items:stretch;gap:10px}.nav-drawer .nav-tab{width:100%;justify-content:flex-start}.nav-drawer .nav-primary-link{width:100%;justify-content:center}}

@media (max-width:900px){.grid-2{grid-template-columns:1fr}}
@media (max-width:720px){.template-actions{width:100%;justify-content:stretch}.template-actions .btn{flex:1 1 auto}}
